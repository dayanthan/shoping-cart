<div class="page-header">
  <h1>Change Password</h1>
</div>
<%= form_for @user, :url => {:action => "reset_password"}, :html => { :class => 'form-horizontal' } do |f| %>
 <div class="control-group">
 <%=@user.password%>
    <%= f.label :password, :class => 'control-label' %>
    <div class="controls">
      <%= f.password_field :password, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :new_password, :class => 'control-label' %>
    <div class="controls">
      <%= f.password_field :new_password, :class => 'text_field' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :password_confirmation, :class => 'control-label' %>
    <div class="controls">
      <%= f.password_field :password_confirmation, :class => 'text_field' %>
    </div>
  </div>
 
  <div class="form-actions">
    <%= button_tag(type: 'submit', class: "btn btn-primary", :onclick => "return Validateform()") do %>
    <i class="icon-ok icon-white"></i> Submit
    <% end %>
    <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
                root_path, :class => 'btn' %>
  </div>
<% end %>
<script type="text/javascript">
  function Validateform () {
    var password=$("#user_password").val();
    var new_password=$("#user_new_password").val();
    var confirm_password=$("#user_password_confirmation").val();

     alert("<%=@user.password%>");

   if (password==""){
      alert( "Enter Odd Password.")
      return false
    }
    else if (new_password==""){
      alert( "Enter New Password.")
      return false
    }
    
    else if (confirm_password==""){
      alert( "Enter Confirm Password.")
      return false
    }
    else if (password!="<%=@user.password%>") {
        alert("Old Password Wrong");
        return false;
    }
    else if (new_password.length < 7){
      alert( "New password is too short: it must at least 8 characters.")
      return false
    }
    else if (new_password!=confirm_password){
    
      alert("The passwords you typed do not match. Type the new password in both text boxes.")
      return false
    }
    else {
      return true
    }
     // body...
  }

</script>